@import "tailwindcss";
@variant dark (&:where(.dark, .dark *));

@theme {
	/* Colors - Liquid Glass Palette */
	--color-glass-light: rgba(255, 255, 255, 0.05);
	--color-glass-border: rgba(255, 255, 255, 0.1);
	--color-glass-dark: rgba(0, 0, 0, 0.5);

	/* Backdrop Blur */
	--backdrop-blur-xs: 2px;
	--backdrop-blur-sm: 4px;

	/* Animations */
	--animate-slide-in: slideInFromTop 0.3s ease-out;
	--animate-fade-scale: fadeInScale 0.3s ease-out;
	--animate-pulse-soft: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;

	@keyframes slideInFromTop {
		from {
			opacity: 0;
			transform: translateY(-20px);
		}

		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes fadeInScale {
		from {
			opacity: 0;
			transform: scale(0.95);
		}

		to {
			opacity: 1;
			transform: scale(1);
		}
	}

	@keyframes pulse-soft {

		0%,
		100% {
			opacity: 1;
		}

		50% {
			opacity: 0.7;
		}
	}
}

:root {
	/* Define política estrita: padrão é light, independente do sistema */
	color-scheme: light;

	/* Default Cursors Fallbacks */
	--cursor-default: url('/cursors/default.svg');
	--cursor-pointer: url('/cursors/pointer.svg');
	--cursor-text: url('/cursors/text.svg');
	--cursor-grab: url('/cursors/grab.svg');
	--cursor-grabbing: url('/cursors/grabbing.svg');
}

/* Apenas ativa modo dark no navegador se a classe estiver presente */
body.dark {
	color-scheme: dark;
}

* {
	box-sizing: border-box;
}

html,
body {
	margin: 0;
	padding: 0;
	height: 100%;
}

/* Light Mode (Default) - Clean Frosty */
body {
	background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 25%, #dbeafe 50%, #e0e7ff 75%, #f1f5f9 100%);
	background-attachment: fixed;
	color: #1e293b;
	font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',
		'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;

	/* Apply Custom Cursor REMOVED from base body */
	/* cursor: var(--cursor-default), auto; Moved to .custom-cursors-enabled */

	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	transition: background 0.3s ease, color 0.3s ease;
}

body.custom-cursors-enabled {
	cursor: var(--cursor-default);
}

/* Global Cursor Overrides (EXTREME SPECIFICITY) - Only when enabled */

/* 1. Pointer (Links, Buttons) */
.custom-cursors-enabled a,
.custom-cursors-enabled button,
.custom-cursors-enabled [role="button"],
.custom-cursors-enabled input[type="submit"],
.custom-cursors-enabled input[type="button"],
.custom-cursors-enabled select,
.custom-cursors-enabled .cursor-pointer,
.custom-cursors-enabled .hover\:cursor-pointer:hover {
	cursor: var(--cursor-pointer) !important;
}

/* 2. Text (Inputs, CodeMirror) - Force I-beam */
.custom-cursors-enabled input[type="text"],
.custom-cursors-enabled input[type="password"],
.custom-cursors-enabled input[type="email"],
.custom-cursors-enabled input[type="number"],
.custom-cursors-enabled textarea,
.custom-cursors-enabled .cm-content,
.custom-cursors-enabled .cm-content *,
.custom-cursors-enabled .cm-line,
.custom-cursors-enabled .cm-scroller,
.custom-cursors-enabled [contenteditable="true"] {
	cursor: var(--cursor-text) !important;
}

/* 3. Grab / Grabbing (Draggables) */
.custom-cursors-enabled .cursor-grab {
	cursor: var(--cursor-grab) !important;
}

.custom-cursors-enabled .cursor-grabbing,
.custom-cursors-enabled .active\:cursor-grabbing:active {
	cursor: var(--cursor-grabbing) !important;
}

/* 4. Default Override (Scrollbars, Headers) */
.custom-cursors-enabled ::-webkit-scrollbar,
.custom-cursors-enabled ::-webkit-scrollbar-thumb,
.custom-cursors-enabled ::-webkit-scrollbar-track {
	cursor: var(--cursor-default) !important;
}

/* Specific fix for Tabs Island wrapper interaction */
.custom-cursors-enabled .glass-panel,
.custom-cursors-enabled .group:hover .custom-scrollbar {
	cursor: var(--cursor-default);
}

/* Dark Mode - Deep Space */
body.dark {
	background: linear-gradient(135deg, #0f0f1e 0%, #1a0f2e 25%, #0f1a2e 50%, #1a1a2e 75%, #0f0f1e 100%);
	color: #e0e0e0;
}

#root {
	height: 100vh;
	width: 100%;
	overflow: hidden;
}

@layer components {

	/* Glass Panel - Adaptável Light/Dark */
	.glass-panel {
		background: rgba(255, 255, 255, 0.4);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: 0.75rem;
		backdrop-filter: blur(18px);
		box-shadow: 0 10px 40px rgba(0, 0, 0, 0.12);
		transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
	}

	.dark .glass-panel {
		background: rgba(0, 0, 0, 0.4);
		border-color: rgba(255, 255, 255, 0.1);
		box-shadow: 0 10px 40px rgba(0, 0, 0, 0.35);
		color: #ffffff;
	}

	/* Glass Button - Adaptável Light/Dark */
	.glass-button {
		padding: 0.5rem 1rem;
		background: rgba(255, 255, 255, 0.3);
		border: 1px solid rgba(148, 163, 184, 0.3);
		border-radius: 0.5rem;
		color: #334155;
		backdrop-filter: blur(12px);
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
		transition: transform 0.15s ease, box-shadow 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
	}

	.glass-button:hover {
		background: rgba(255, 255, 255, 0.5);
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
	}

	.glass-button:active {
		transform: scale(0.95);
	}

	.dark .glass-button {
		background: rgba(255, 255, 255, 0.1);
		border-color: rgba(255, 255, 255, 0.2);
		color: #ffffff;
		box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
	}

	.dark .glass-button:hover {
		background: rgba(255, 255, 255, 0.2);
	}

	/* Glass Input - Adaptável Light/Dark */
	.glass-input {
		background: rgba(255, 255, 255, 0.5);
		border: 1px solid rgba(148, 163, 184, 0.5);
		border-radius: 0.5rem;
		padding: 0.5rem 0.75rem;
		color: #0f172a;
		backdrop-filter: blur(12px);
		transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, color 0.2s ease;
	}

	.glass-input::placeholder {
		color: #94a3b8;
	}

	.glass-input:focus {
		outline: none;
		border-color: rgba(59, 130, 246, 0.6);
		box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
	}

	.dark .glass-input {
		background: rgba(255, 255, 255, 0.05);
		border-color: rgba(255, 255, 255, 0.1);
		color: #ffffff;
	}

	.dark .glass-input::placeholder {
		color: #9ca3af;
	}

	.dark .glass-input:focus {
		border-color: rgba(255, 255, 255, 0.3);
		box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
	}

	.text-gradient {
		background-image: linear-gradient(to right, #60a5fa, #a78bfa, #f472b6);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		color: transparent;
	}

	/* Custom Scrollbar - Final Adjustment */
	.custom-scrollbar::-webkit-scrollbar {
		width: 8px;
		/* Mais largo para melhor clique */
		height: 8px;
	}

	.custom-scrollbar::-webkit-scrollbar-track {
		background: transparent;
	}

	.custom-scrollbar::-webkit-scrollbar-thumb {
		background-color: transparent;
		border-radius: 4px;

		/* Animação simplificada */
		transition: background-color 0.5s ease;
		transition-delay: 2s;
		/* Delay fake via CSS (suporte limitado por browser) */
	}

	/* Show on Wrapper Hover (Group) */
	.group:hover .custom-scrollbar::-webkit-scrollbar-thumb {
		background-color: rgba(0, 0, 0, 0.25);
		/* Mais visível */
		transition-duration: 0.2s;
		transition-delay: 0s;
	}

	.group:hover .custom-scrollbar::-webkit-scrollbar-thumb:hover {
		background-color: rgba(0, 0, 0, 0.5);
		/* Escuro e claro no hover */
		cursor: pointer;
	}

	/* Dark Mode Variants */
	.dark .group:hover .custom-scrollbar::-webkit-scrollbar-thumb {
		background-color: rgba(255, 255, 255, 0.25);
	}

	.dark .group:hover .custom-scrollbar::-webkit-scrollbar-thumb:hover {
		background-color: rgba(255, 255, 255, 0.5);
	}
}